#! /usr/bin/env python3
import sys
import os
from subprocess import call, DEVNULL

if os.getenv('INSIDE_EMACS'):
    lisp = """
        (progn (other-window 1)
               (if (not (woman "{}"))
                   (other-window -1)))
    """.format(sys.argv[1])
    print(lisp)
    call(['emacsclient', '--eval', lisp], stdout=DEVNULL, stderr=DEVNULL)
else:
    call(['man'] + sys.argv[1:])
